<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script type="text/javascript" src="js/FunctionalTools.js"></script>
<script type="text/javascript" src="js/NodeUtils.js"></script>
<script type="text/javascript" src="js/EventUtils.js"></script>
<title>Eloquent JS Chapter 13_01</title>
</head>
<body>
	<p>
		<button id="button" style="font-size: 150%;" type="button">The
			Button</button>
	</p>
	<p>
		<input id="textfield" type="text" style="font-size: 150%;">
	</p>
	<p>When you enter the letter q nothing happens</p>
	<p>When you focus on the text field the background turns yellow</p>
	<p>When you change the content of the text field the content is written to the console</p>
	<script type="text/javascript">
		registerEventHandler($("button"), "click", function() {
			console.log("Button Clicked!!!");
		});

		
		// This is after a function to normalize events have been introduced and
		// with a wrapper for adding handlers
		var blockQ = addHandler($("textfield"), "keypress", function(event) {
			if (event.character.toLowerCase() == "q")
				event.stop();
		});
		
		addHandler($("textfield"), "focus", function(event){
			event.target.style.backgroundColor = "yellow";
			console.log("focus event fired");		
		})
		addHandler($("textfield"), "blur", function(event){
			event.target.style.backgroundColor = "";		
		})
		addHandler($("textfield"), "change", function(event){
			console.log("Content of the text field changed to: " + event.target.value);		
		})
		
		
	</script>
</body>
</html>